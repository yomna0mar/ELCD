<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <meta charset="utf-8"/>
        <link rel="icon" href="../Images/logoSeniorDesign.png"/>
        <title>LCPS - #{doctorpatients.patientName} - Patient View </title>
        <link href="../Style Sheets/doctorPatientView.css" rel="stylesheet" type="text/css"/>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.js"></script>
        <script>
            $(window).load(function () {
                $(".se-pre-con").fadeOut("slow");
                ;
            });
        </script>
        <script>var __adobewebfontsappname__ = "dreamweaver"</script><script src="http://use.edgefonts.net/iceberg:n4:default.js" type="text/javascript"></script>
    </h:head>
    <h:body>
        <div class="se-pre-con"></div>
        <f:view>
            <header><a href="doctorMain.xhtml"><img src="../Images/logoSeniorDesign.png" width="150" height="150" alt=""/><h3>Patient <h:outputText value="#{doctorpatients.patientName}"/>'s Health Status</h3></a></header>
            <nav><a href="doctorMain.xhtml" class="navHome">Home</a> &gt; <a href="doctorPatientView.xhtml" class="navHome">Patient <h:outputText value="#{doctorpatients.patientName}"/></a></nav>
            <div>
                <center>
                    <section class="sectionTop"><h:form><h:commandButton class="button" id="ai" value="Algorithm Analysis" action="doctorPatientAI.xhtml"/></h:form></section>
                    <section class="sectionLeft">
                        <h2>Tests</h2>
                        <h:form>
                            <h:dataTable value="#{doctorpatientview.tests}" var="test" headerClass="tableheader" rowClasses="oddrow, evenrow">
                                <h:column>
                                    <f:facet name="header">Test Name</f:facet>
                                    <h:outputText value="#{test.name}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Test Result</f:facet>
                                    <h:outputText value="#{test.result}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Is the Result Fatal?</f:facet>
                                    <h:outputText value="#{test.isFatal}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Delete Test?</f:facet>
                                    <h:selectBooleanCheckbox value="#{doctorpatientview.deletedTests[test.geneID]}"/>
                                </h:column>
                            </h:dataTable>
                            <h:outputText value="#{doctorpatientview.testErrorMsg}"/>
                            <br/><h:commandButton class="button" id="deleteTests" value="Delete Tests" actionListener="#{doctorpatientview.deleteTests()}"/>
                        </h:form>
                    </section>
                    <section class="sectionRight">
                        <h2>Comments</h2>
                        <h:form>
                            <h:dataTable value="#{doctorpatientview.comments}" var="comment" headerClass="tableheader" rowClasses="oddrow, evenrow">
                                <h:column>
                                    <f:facet name="header">Date Added</f:facet>
                                    <h:outputText value="#{comment.dateAdded}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Comment</f:facet>
                                    <h:outputText value="#{comment.comment}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Delete Test?</f:facet>
                                    <h:selectBooleanCheckbox value="#{doctorpatientview.deletedComments[comment.commentID]}"/>
                                </h:column>
                            </h:dataTable>
                            <h:outputText value="#{doctorpatientview.commentErrorMsg}"/>
                            <br/><h:commandButton class="button" id="deleteTests" value="Delete Comments" actionListener="#{doctorpatientview.deleteComments()}"/>
                        </h:form>
                    </section>
                    <section class="sectionBottom">
                        <h2>Add a New Comment</h2>
                        <h:form>
                            <h:inputTextarea rows="10" cols = "50" value = "#{doctorpatientview.comment}"/><br/>
                            Comment Visible to Patient? <h:selectBooleanCheckbox value="#{doctorpatientview.commentVisibility}"/><br/>
                            <h:commandButton class="button" id="addCommentButton" value="Add Comment" action="#{doctorpatientview.addComment}"/>
                        </h:form>
                    </section>
                </center>
            </div>
            <footer><p><a href="../index.xhtml" class="logout">Logout</a></p>CMP 491 - Senior Design Project - American University of Sharjah Â© 2017</footer>
        </f:view>
    </h:body>
</html>